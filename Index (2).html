<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Soft Journal</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Poppins:wght@300;400;500&family=Inter:wght@300;400;500&family=Lora:wght@400;500&family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#eef0f7;
  --card:#ffffff;
  --accent:#8e7cc3;
  --text:#2d2a32;
  --bg-image:none;
}
body{
  margin:0;
  font-family:Poppins,sans-serif;
  background:var(--bg);
  background-image:var(--bg-image);
  background-size:cover;
  background-position:center;
  background-attachment:fixed;
  color:var(--text);
  line-height:1.6;
}
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400" opacity="0.03"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4"/></filter><rect width="400" height="400" filter="url(%23n)"/></svg>');
  pointer-events:none;
}
body.dark{--bg:#1f2230;--card:#2a2e44;--text:#eaeaf0}
body.focus .top,body.focus .entries,body.focus .drawer,body.focus button:not(#save){opacity:.12;pointer-events:none}
.screen{min-height:100vh;display:flex;align-items:center;justify-content:center}
.card{background:var(--card);padding:36px;border-radius:26px;width:360px;box-shadow:0 40px 80px rgba(0,0,0,.18);animation:floatIn .8s ease}
@keyframes floatIn{from{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}
h1{font-family:Playfair Display,serif;text-align:center;margin-top:0}
input,textarea,select{width:100%;padding:14px;margin-top:14px;border-radius:14px;border:none;font-family:Poppins,sans-serif}
textarea{height:220px;resize:none;transition:box-shadow .3s ease}
textarea:focus{outline:none;box-shadow:0 0 0 2px var(--accent)}
button{width:100%;padding:15px;margin-top:22px;border-radius:18px;border:none;background:var(--accent);color:#fff;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}
button:hover{transform:translateY(-1px);box-shadow:0 12px 24px rgba(0,0,0,.18)}
button.icon{width:auto;margin:0 4px;padding:8px 12px;border-radius:999px}
button.secondary{background:transparent;color:#777}
#journal{display:none;max-width:960px;margin:auto;padding:48px 32px;animation:fadeUp .6s ease}
@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}
.top{display:flex;justify-content:space-between;align-items:center}
.entries{margin-top:24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}
.entry{background:var(--card);border-radius:22px;padding:20px;transition:transform .25s ease,box-shadow .25s ease}
.entry:hover{transform:translateY(-4px);box-shadow:0 20px 40px rgba(0,0,0,.12)}
.entry h4{margin:0 0 6px;font-family:Playfair Display,serif}
.entry p{margin:0;white-space:pre-wrap;font-size:14px}
.drawer{position:fixed;top:0;right:-360px;width:340px;height:100vh;background:var(--card);box-shadow:-20px 0 60px rgba(0,0,0,.25);padding:24px;transition:right .4s}
.drawer.open{right:0}
.option{margin-top:18px}
.swatch{width:22px;height:22px;border-radius:50%;display:inline-block;margin-right:8px;cursor:pointer}
</style>
</head>
<body>

<div id="auth" class="screen">
  <div class="card">
    <h1>Soft Journal</h1>
    <input id="password" type="password" placeholder="Password">
    <p id="msg"></p>
    <button id="enter">Enter</button>
    <button id="reset" class="secondary">Reset journal</button>
  </div>
</div>

<div id="journal">
  <div class="top">
    <h1 id="journalTitle">My Journal</h1>
    <div>
      <button id="theme" class="icon">üåô</button>
      <button id="focus" class="icon">üìù</button>
      <button id="custom" class="icon">üé®</button>
      <button id="lock" class="icon">üîí</button>
    </div>
  </div>

  <input id="entryTitle" placeholder="Entry title">
  <textarea id="entry" placeholder="Write here..."></textarea>
  <button id="save">Save Entry</button>

  <div class="entries" id="entries"></div>
</div>

<div class="drawer" id="drawer">
  <h3>Journal</h3>
  <div class="option">
    <select id="journalSelect"></select>
    <button id="newJournal">New Journal</button>
  </div>

  <h3>Background</h3>
  <div class="option">
    <input type="file" id="bgUpload" accept="image/*">
  </div>

  <h3>Accent</h3>
  <div class="option">
    <span class="swatch" data-color="#8e7cc3" style="background:#8e7cc3"></span>
    <span class="swatch" data-color="#9caf88" style="background:#9caf88"></span>
    <span class="swatch" data-color="#4a5a7a" style="background:#4a5a7a"></span>
  </div>

  <h3>Font</h3>
  <div class="option">
    <select id="fontSelect">
      <option value="Poppins">Poppins</option>
      <option value="Inter">Inter</option>
      <option value="Playfair Display">Playfair Display</option>
      <option value="Lora">Lora</option>
      <option value="Libre Baskerville">Libre Baskerville</option>
    </select>
  </div>
</div>

<script>
const PASS='sj_pass',DATA='sj_data',PREF='sj_pref'
const auth=document.getElementById('auth')
const journal=document.getElementById('journal')
const pwd=document.getElementById('password')
const msg=document.getElementById('msg')
const entry=document.getElementById('entry')
const entryTitle=document.getElementById('entryTitle')
const entriesBox=document.getElementById('entries')
const drawer=document.getElementById('drawer')
const journalSelect=document.getElementById('journalSelect')
const journalTitle=document.getElementById('journalTitle')

let state={current:'Default',journals:{Default:[]}}

function saveData(){localStorage.setItem(DATA,JSON.stringify(state))}
function loadData(){state=JSON.parse(localStorage.getItem(DATA))||state}

function showAuth(){auth.style.display='flex';journal.style.display='none';pwd.value='';msg.textContent=''}
function showJournal(){auth.style.display='none';journal.style.display='block';renderJournals();loadEntries()}

function renderJournals(){journalSelect.innerHTML='';Object.keys(state.journals).forEach(j=>{const o=document.createElement('option');o.value=j;o.textContent=j;journalSelect.appendChild(o)});journalSelect.value=state.current;journalTitle.textContent=state.current}

function loadEntries(){entriesBox.innerHTML='';(state.journals[state.current]||[]).forEach(e=>{const d=document.createElement('div');d.className='entry';d.innerHTML='<h4>'+e.title+'</h4><p>'+e.text+'</p>';entriesBox.appendChild(d)})}

document.getElementById('enter').onclick=()=>{const s=localStorage.getItem(PASS),i=pwd.value;if(!i)return;if(!s){localStorage.setItem(PASS,i);loadData();showJournal();return}if(i===s){loadData();showJournal()}else msg.textContent='Wrong password'}

document.getElementById('reset').onclick=()=>{localStorage.clear();location.reload()}

document.getElementById('lock').onclick=showAuth

document.getElementById('save').onclick=()=>{const t=entry.value.trim();if(!t)return;state.journals[state.current].unshift({title:entryTitle.value||'Untitled',text:t});saveData();entry.value='';entryTitle.value='';loadEntries()}

document.getElementById('theme').onclick=()=>document.body.classList.toggle('dark')
document.getElementById('focus').onclick=()=>document.body.classList.toggle('focus')
document.getElementById('custom').onclick=()=>drawer.classList.toggle('open')

document.addEventListener('click',e=>{if(!drawer.contains(e.target)&&!e.target.closest('#custom'))drawer.classList.remove('open')})

document.getElementById('newJournal').onclick=()=>{const n=prompt('Journal name');if(!n)return;state.journals[n]=[];state.current=n;saveData();renderJournals();loadEntries()}

journalSelect.onchange=e=>{state.current=e.target.value;saveData();renderJournals();loadEntries()}

document.getElementById('bgUpload').onchange=e=>{const f=e.target.files[0];if(!f)return;const r=new FileReader();r.onload=()=>{document.documentElement.style.setProperty('--bg-image',`url(${r.result})`);localStorage.setItem(PREF,JSON.stringify({bg:r.result}))};r.readAsDataURL(f)}

document.querySelectorAll('.swatch').forEach(s=>s.onclick=()=>document.documentElement.style.setProperty('--accent',s.dataset.color))

document.getElementById('fontSelect').onchange=e=>{document.body.style.fontFamily=e.target.value+', sans-serif'}

const p=JSON.parse(localStorage.getItem(PREF));if(p&&p.bg)document.documentElement.style.setProperty('--bg-image',`url(${p.bg})`)

showAuth()
</script>
</body>
</html>
